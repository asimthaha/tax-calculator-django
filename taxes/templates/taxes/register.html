{% load static %}
<link rel="stylesheet" href="{% static 'taxes/css/register.css' %}" />
<!-- CSS only -->
<meta charset="UTF-8" />
<title>Tax Calc</title>
<link rel="icon" type="image/x-icon" href="{% static 'taxes/images/logo.png' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

<!------ Include the above in your HEAD tag ---------->
<body class="bg-secondary">
  <div class="container register border border-1 rounded border-warning shadow">
    <article class="">
      <article class="row bg-light border rounded">
        <section class="col-md-5 d-flex flex-column justify-content-center align-items-center pr-5 mr-5">
          <!--carousel-start-->
          <div class="banner slider">
            <div
              id="carousel"
              class="carousel slide carousel-dark carousel-fade"
              data-bs-ride="carousel"
            >
              <div class="carousel-inner" data-bs-ride="carousel">
                {% for images in data %}
                <div
                  class="carousel-item {% if forloop.counter0 == 0 %} active {% endif %}"
                  data-bs-interval="3000"
                >
                  <div class="carousel-caption align-items-center register-left ">
                    <div class="col-md-12">
                      <img src="http://www.ansonika.com/mavia/img/registration_bg.svg" alt="" />
                      <h3 class="text-white">Welcome</h3>
                      <p class="text-light text-monospace font-weight-bold">Register Your Account</p>
                    </div>
                  </div>
                  <img
                    src="{{ images.photo.url }}"
                    class="carousel-img d-block w-100 rounded"
                    alt="Los Angeles"
                  />
                  
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
          <!--	carousel-end-->
        </section>
        <section class="col-md-7 d-flex flex-column justify-content-center">
          <div class="text-center" id="myTabContent">
            <div class="d-flex m-4">
              <h3 class="mx-auto">User Registration</h3>
            </div> 
              <form
                method="POST"
                action="register"
                onsubmit="return validateConfirmPassword()"
                class="needs-validation"
                novalidate
              >
                {% csrf_token %}
                <div class="register-form">
                  <div class="d-flex flex-column justify-content-center">
                    <div class="form-element">
                      <div class="form-group">
                        <div class="input-group">
                          <div class="input-group-prepend">
                            <span class="input-group-text bg-warning" id="basic-addon1">Name</span>
                          </div>
                          <input
                            required
                            type="text"
                            class="form-control"
                            name="name"
                            placeholder="Full Name *"
                            onkeypress="return allowOnlyLetters(event);"
                          />
                          <div class="invalid-feedback">
                            Please choose a username.
                          </div>
                          <div class="valid-feedback">Looks good!</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-element">
                      <div class="form-group">
                        <div class="input-group">
                          <div class="input-group-prepend">
                            <span class="input-group-text bg-warning" id="basic-addon1">Email</span>
                          </div>
                          <input
                            required
                            name="email"
                            type="email"
                            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                            class="form-control"
                            placeholder="Email *"
                            value=""
                          />
                          <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">example@gmail.com</span>
                          </div>
                          <div class="invalid-feedback">
                            Please provide a valid email like example@gmail.com
                          </div>
                          <div class="valid-feedback">Looks good!</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-element">
                      <div class="form-group">
                        <div class="input-group">
                          <div class="input-group-prepend">
                            <span class="input-group-text bg-warning" id="basic-addon1">zipcode</span>
                          </div>
                          <input
                            required
                            name="zipcode"
                            id="zipcode"
                            minlength="6"
                            maxlength="6"
                            type="text"
                            class="form-control"
                            placeholder="Zipcode *"
                            value=""
                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                          />
                          <div class="invalid-feedback">
                            Please give a valid zipcode.
                          </div>
                          <div class="valid-feedback">Looks good!</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-element">
                      <div class="form-group">
                        <div class="input-group" id="password">
                          <div class="input-group-text bg-warning">
                            <span id="basic-addon1">Password</span>
                          </div>
                          <input
                            id="pass1"
                            required
                            name="pass1"
                            type="password"
                            class="form-control"
                            placeholder="Password *"
                            value=""
                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                          />
                          <div class="input-group-text bg-warning">
                            <a href=""><i class="bi bi-eye-slash-fill text-dark"></i></a>
                          </div>
                          <div class="invalid-feedback">
                            password contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                          </div>
                          <div class="valid-feedback">Looks good!</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-element">
                      <div class="form-group">
                        <div class="input-group " id="password">
                          <div class="input-group-prepend">
                            <span class="input-group-text bg-warning" id="basic-addon1">Confirm</span>
                          </div>
                          <input
                            required
                            id="pass2"
                            name="pass2"
                            type="password"
                            class="form-control"
                            placeholder="Confirm Password *"
                            value=""
                          />
                          <div class="input-group-text bg-warning">
                            <a href=""><i class="bi bi-eye-slash-fill text-dark"></i></a>
                          </div>
                        </div>
                        <div class="d-flex flex-column"><span id="message" class="text-danger"></span></div>
                        <div class="d-flex flex-column"><span id="true" class="text-success"></span></div>
                      </div>
                    </div>
                    <div class="form-element">
                      <div class="">
                        <input
                          class="btn btn-outline-primary col-md-4 p-2 mb-3"
                          type="submit"
                          value="Register"
                        />
                        <input
                          onclick=""
                          class="btn btn-outline-secondary col-md-4 p-2 mb-3"
                          type="reset"
                          value="Cancel"
                        />                 
                      </div>
                    </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </article>
  </div>
  <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (function () {
    "use strict";

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.querySelectorAll(".needs-validation");

    // Loop over them and prevent submission
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener(
        "submit",
        function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }

          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>
<script>
function validateConfirmPassword() {
  // Get the values of the password and confirm password fields.
  const password = document.getElementById("pass1").value;
  const confirmPassword = document.getElementById("pass2").value;

  // Check if the values are the same.
  if (password !== confirmPassword) {
    // Display an alert.
    document.getElementById("message").innerHTML = "Passwords are not the same";  
    return false;
  }else {
   document.getElementById("true").innerHTML = "Looks Good";
  // The passwords match, so return true.
  return true;
  }
}
</script>
<script language="Javascript" type="text/javascript">

function allowOnlyLetters(e) {
  const charCode = e.which || e.keyCode;
  const isLetter = (charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122);
  const isSpace = charCode === 32;
  if (!isLetter && !isSpace) {
    alert("Please enter only alphabets");
    return false;
  }
  return true;
}
</script>
<script>
  $(document).ready(function() {
$("#password a").on('click', function(event) {
event.preventDefault();
if ($('#password input').attr("type") == "text") {
$('#password input').attr('type', 'password');
$('#password i').addClass("bi bi-eye-fill-slash");
$('#password i').removeClass("bi-eye");
} else if ($('#password input').attr("type") == "password") {
$('#password input').attr('type', 'text');
$('#password i').removeClass("bi bi-eye-fill-slash");
$('#password i').addClass("bi-eye");
}
});
});
</script>

</body>
